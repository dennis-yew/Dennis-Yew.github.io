<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer</title>
    <link rel="stylesheet" href="/assets/css/Pcopy.css">
</head>

<body class="light">

    <!-- Loading Screen -->

    <!-- 视频预加载动画 -->
    <!-- <div id="preload-container">

        <div id="preload-icon-wrapper">
            <img src="/assets//ui/element (2).png" alt="White Icon" class="icon" id="preload-icon-white">
            <img src="/assets//ui/element (1).png" alt="Gray Icon" class="icon" id="preload-icon-gray">
        </div>
    </div>
    <script>
        const preloadContainer = document.getElementById("preload-container");
        function updateProgressBar(progress) {
            const grayIcon = document.querySelector('#preload-icon-white');
            // 根据进度百分比调整灰度图标的显示
            grayIcon.style.clipPath = `inset(0 ${100 - progress}% 0 0)`;
        }

        // 测试：每隔 1 秒增加 10% 进度
        const stopPoints = [21, 67, 93, 93, 100];
        const stopDuration = 150; // 每个停顿点的持续时间
        let currentStopIndex = 0; // 当前的停顿点索引

        let progress = 0;
        const interval = setInterval(() => {
            if (progress == 100) {
                console.log("end");
                console.log("100%");

                clearInterval(interval);
                // 视频容器淡出
                preloadContainer.classList.add('hidden');
            } else {
                if (progress == 93) {
                    if (!document.querySelector('#oml2d-canvas')) {
                        console.log("pause");
                    } else {
                        console.log("update" + progress + "%");
                        // 将 progress 设置为下一个停顿点
                        progress = stopPoints[currentStopIndex];
                        // 移动到下一个停顿点
                        currentStopIndex++;
                        updateProgressBar(progress);
                    }
                } else {

                    console.log("update" + progress + "%");
                    // 将 progress 设置为下一个停顿点
                    progress = stopPoints[currentStopIndex];
                    // 移动到下一个停顿点
                    currentStopIndex++;
                    updateProgressBar(progress);
                }
            }
        }, stopDuration);

    </script> -->
    <div class="wrapper">

        <div class="image-container">
            <!-- <img src="/Projects/169690023.jpg" alt="Description of the image"> -->
        </div>

        <div class="pomodoro-timer">
            <h1>Pomodoro Timer</h1>
            <div class="timer-display">
                <span id="minutes">25</span>:<span id="seconds">00</span>
            </div>
            <div class="controls">
                <button id="reset">Reset</button>
                <button id="start-stop">Start</button>
            </div>
        </div>
    </div>


    <script type="module" src="/assets/js/Tcopy.js"></script>
    <script src="/assets/js/live2d.js"></script>
    <!-- live2d -->
    <script>
    const ModelContainer = document.querySelector('body > div > div.image-container');
    // 模型载入设置
    let oml2d = OML2D.loadOml2d({
        sayHello: true,
        primaryColor: "#ff958b",
        parentElement: ModelContainer,
        mobileDisplay: true,
        statusBar: {
            // 在这里进行配置
            disable: true,
        },
        menus: {
            disable: true,
            // 在这里配置
        },
        tips: {
            messageLine: 4,
            idleTips: { wordTheDay: !1, message: [], duration: 5e3, interval: 1e4, priority: 2 },
            welcomeTip: {
                message: {
                    daybreak: "早上好呀！新的大冒险就要开始啦！嘿嘿，可莉准备好了哦~",
                    morning: "早安早安！今天要去哪里探险呢？可莉已经迫不及待了！",
                    noon: "诶，中午了！要吃好吃的午饭吗？吃饱了才有力气炸鱼呢~",
                    afternoon: "下午好呀，这个时候有点困了呢…不过再玩一会儿也没关系吧？",
                    dusk: "天快黑啦~ 要小心，不要踩到可莉的蹦蹦炸弹哦！",
                    night: "晚上好！可莉今天玩得可开心啦~不过也要早点休息哦！",
                    lateNight: "已经这么晚了嘛？可莉有点困了…不过还是要说，晚安啦！",
                    weeHours: "咦？还没睡吗？琴团长会像对可莉一样，‘禁闭’你的！"
                },
                duration: 6e3, priority: 2
            },
            style: {
                "left": "110%",
                "top": "20%",
                "width": "250px",
            },
            mobileStyle: {
                "align-items": "center",
                "min-height": "90px",
                "left": "100px",
                "top": "-18%",
                "width": "200px",
                "font-size": "16px",
            }
        },
        models: [
            {
                path: '/assets/model/klee/klee.model3.json',
                position: [30, 0],
                scale: 0.06,
                rotation: 89,
                stageStyle: {
                    "position": "relative",
                    "display": "flex",
                    "left": "16px",
                    "justify-content": "center",
                    "transform": "translateX(-50%)", /* 确保图片水平居中 */
                    "width": "300px", /* 设定图片的宽度，可以根据需要调整 */
                    "z-index": "1" /* 图片位于闹钟的后面 */
                },
                mobilePosition: [260, 40],
                mobileScale: 0.07,
                mobileStageStyle: {
                    "position": "relative",
                    "top": "0%",
                    "left": "0%",
                    "width": "300px",
                    "z-index": "1"

                }
            },
        ]
    });
    console.log(oml2d);
    console.log(oml2d.models.options.models[oml2d.modelIndex].path)
    </script>
</body>

</html>